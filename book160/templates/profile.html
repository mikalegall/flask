{% set title = "Profile" %}

{% extends "base.html" %}

{% block content %}
<h2>My profile</h2>
<form method=POST>
	<!-- https://wtforms.readthedocs.io/en/2.3.x/fields/ -->
	{% for field in form %}
<!-- TODO Remove all comments -->	
		{% if not field.flags.hidden %} <!-- If visible then continue (hide Cross-site request forgery) defence -->
			{% if not field.name == "first_time_saved" %} <!-- Hide user.first_time_saved -->
			{% if not field.name == "last_time_edited" %} <!-- Hide user.last_time_edited -->
			{% if not field.name == "passwordHash" %} <!-- Hide user.passwordHash -->
			{% if not field.name == "record_deleted" %} <!-- Hide user.record_deleted -->

			{{ field.label }}
			{% endif %}
			{% endif %}
			{% endif %}
			{% endif %}
		{% endif %}

		{% if not field.name == "first_time_saved" %} <!-- Hide user.first_time_saved -->
		{% if not field.name == "last_time_edited" %} <!-- Hide user.last_time_edited -->
		{% if not field.name == "passwordHash" %} <!-- Hide user.passwordHash -->
		{% if not field.name == "record_deleted" %} <!-- Hide user.record_deleted -->


		{{ field }}
		{% endif %}
		{% endif %}
		{% endif %}
		{% endif %}

		<br>
		{% for error in field.erros %}
		<b>{{ error }}</b>
		{% endfor %}
	<br>
	{% endfor %}

	<input type="submit">
</form>
<p>
	{% for user in users %}

	<a href="/{{ user.id }}/edit">Edit</a>
	<br>
	First time saved {{ user.first_time_saved }}
	<br>
	User ID = {{ user.id }}
	<br>
	Family name {{ user.family_name }}
	<br>
	Given name {{ user.given_name }}
	<br>
	Email {{ user.email }}
	<br>
	Telephone {{ user.telephone }}
	<br>
	Last time edited {{ user.last_time_edited }}
	<br>
	Record deleted {{ user.record_deleted }}
	<br>
	<a href="/{{ user.id }}/delete">Delete</a>
	<br>
	<br>

	{% endfor %}
</p>
{% endblock content %}